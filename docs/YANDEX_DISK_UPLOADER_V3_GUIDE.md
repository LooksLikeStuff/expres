# –°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫ v3.0

## üöÄ –û–ø–∏—Å–∞–Ω–∏–µ

–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω–∞—è —Å –Ω—É–ª—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ–∞–π–ª–æ–≤ –¥–æ **2GB** –±–µ–∑ —Ç–∞–π–º–∞—É—Ç–æ–≤. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É, –≤–∏–∑—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏.

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–§–∞–π–ª—ã –¥–æ 2GB**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- **–ë–µ–∑ —Ç–∞–π–º–∞—É—Ç–æ–≤**: –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
- **–í–∏–∑—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã**: –î–æ 3 –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **–ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö
- **–û—Ç–º–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∏**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ—Ä–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
- **Drag & Drop**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- **–ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

### ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **Chunked upload**: –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏ –ø–æ 2MB –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- **HTTP Keep-Alive**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **AJAX –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ë–µ—Å—à–æ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞–º–∏
- **Real-time updates**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Error handling**: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **Memory optimization**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–î–æ–±–∞–≤—å—Ç–µ –≤ –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π —à–∞–±–ª–æ–Ω –∏–ª–∏ –≤ `dealModal.blade.php`:

```blade
{{-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ v3.0 --}}
@include('deals.partials.components.yandex_disk_uploader_v3')
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–í —Ñ–∞–π–ª–µ `config/services.php` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

```php
'yandex_disk' => [
    'token' => env('YANDEX_DISK_TOKEN'),
    'timeout' => 0, // –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤—Ä–µ–º–µ–Ω–∏
    'chunk_size' => 2097152, // 2MB chunks
    'max_retries' => 3,
    // ... –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
],
```

### 3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:

```env
YANDEX_DISK_TOKEN=your_token_here
```

### 4. Middleware (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–æ–±–∞–≤—å—Ç–µ middleware –≤ `app/Http/Kernel.php`:

```php
protected $routeMiddleware = [
    // ...
    'large.file' => \App\Http\Middleware\LargeFileUploadMiddleware::class,
];
```

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ó–∞–º–µ–Ω–∏—Ç–µ –æ–±—ã—á–Ω—ã–µ –ø–æ–ª—è —Ñ–∞–π–ª–æ–≤ –Ω–∞ –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```blade
{{-- –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± --}}
<input type="file" name="final_project_file" class="form-control">

{{-- –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± --}}
@include('deals.partials.components.field_types.file_v3', [
    'field' => [
        'name' => 'final_project_file',
        'label' => '–§–∏–Ω–∞–ª –ø—Ä–æ–µ–∫—Ç–∞'
    ]
])
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–æ–ª—è

```php
$supportedFields = [
    'measurements_file',      // –ó–∞–º–µ—Ä—ã
    'final_project_file',     // –§–∏–Ω–∞–ª –ø—Ä–æ–µ–∫—Ç–∞
    'work_act',              // –ê–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç
    'chat_screenshot',       // –°–∫—Ä–∏–Ω—à–æ—Ç —á–∞—Ç–∞
    'archicad_file',         // –§–∞–π–ª Archicad
    'execution_order_file',   // –ü—Ä–∏–∫–∞–∑ –∫ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—é
    'final_floorplan',       // –ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω
    'final_collage',         // –ò—Ç–æ–≥–æ–≤—ã–π –∫–æ–ª–ª–∞–∂
    'contract_attachment',   // –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫ –¥–æ–≥–æ–≤–æ—Ä—É
    'screenshot_work_1',     // –°–∫—Ä–∏–Ω—à–æ—Ç —Ä–∞–±–æ—Ç—ã 1
    'screenshot_work_2',     // –°–∫—Ä–∏–Ω—à–æ—Ç —Ä–∞–±–æ—Ç—ã 2
    'screenshot_work_3',     // –°–∫—Ä–∏–Ω—à–æ—Ç —Ä–∞–±–æ—Ç—ã 3
    'screenshot_work_4',     // –°–∫—Ä–∏–Ω—à–æ—Ç —Ä–∞–±–æ—Ç—ã 4
    'screenshot_work_5',     // –°–∫—Ä–∏–Ω—à–æ—Ç —Ä–∞–±–æ—Ç—ã 5
];
```

## üîå API Endpoints

### –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
```
POST /api/yandex-disk/upload
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `file` (required) - —Ñ–∞–π–ª –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
- `deal_id` (required) - ID —Å–¥–µ–ª–∫–∏
- `field_name` (required) - –∏–º—è –ø–æ–ª—è

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "data": {
        "yandex_disk_url": "https://...",
        "original_name": "document.pdf",
        "file_size": 1024000,
        "upload_time": 15.32,
        "upload_speed": "2.1 MB/s"
    }
}
```

### –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
```
POST /api/yandex-disk/delete
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `deal_id` (required) - ID —Å–¥–µ–ª–∫–∏
- `field_name` (required) - –∏–º—è –ø–æ–ª—è

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ
```
GET /api/yandex-disk/info?deal_id=123&field_name=final_project_file
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```
GET /api/yandex-disk/health
```

## üéØ JavaScript API

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

```javascript
// –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
const uploader = new YandexDiskUploaderV3();

// –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
uploader.uploadFile(file, dealId, fieldName);

// –û—Ç–º–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∏
uploader.cancelUpload(fieldName);

// –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
uploader.confirmAndDeleteFile(dealId, fieldName);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ñ–∞–π–ª–∞
uploader.updateFileStatus(fieldName);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
uploader.checkServiceHealth();
```

### –°–æ–±—ã—Ç–∏—è

```javascript
// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
$(document).on('fileUploaded', function(event, data) {
    console.log('–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω:', data);
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
$(document).on('fileUploadError', function(event, error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
});
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### JavaScript –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```javascript
const uploader = new YandexDiskUploaderV3();

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
uploader.settings.maxFileSize = 4 * 1024 * 1024 * 1024; // 4GB
uploader.settings.maxRetries = 5;
uploader.settings.retryDelay = 3000;
```

### CSS –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

```css
/* –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ */
.progress-bar {
    background: linear-gradient(90deg, #28a745 0%, #20c997 100%);
}

/* –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
.notification-container {
    top: 100px;
    left: 20px;
}
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏

–í `.env`:
```env
APP_DEBUG=true
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
tail -f storage/logs/laravel.log | grep "YandexDisk"
```

### JavaScript –æ—Ç–ª–∞–¥–∫–∞

```javascript
// –í–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–∏
window.YandexDiskDebug.enabled = true;

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
console.log(window.yandexDiskUploaderV3);
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –§–∞–π–ª –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞ –≤ `.env`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 2GB
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `storage/logs/laravel.log`

#### 2. –¢–∞–π–º–∞—É—Ç –∑–∞–≥—Ä—É–∑–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `timeout` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `0`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (`client_max_body_size`)
- –£–≤–µ–ª–∏—á—å—Ç–µ `max_execution_time` –≤ PHP

#### 3. –û—à–∏–±–∫–∏ JavaScript
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ jQuery –∑–∞–≥—Ä—É–∂–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CSRF —Ç–æ–∫–µ–Ω –≤ –º–µ—Ç–∞-—Ç–µ–≥–∞—Ö
- –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π

#### 4. –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é
- –£–≤–µ–ª–∏—á—å—Ç–µ `memory_limit` –≤ PHP
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ middleware `LargeFileUploadMiddleware`

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PHP
php -ini | grep -E "(upload_max_filesize|post_max_size|memory_limit|max_execution_time)"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
curl -X GET http://your-domain/api/yandex-disk/health

# –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏
curl -X POST -F "file=@test.txt" -F "deal_id=1" -F "field_name=final_project_file" \
     http://your-domain/api/yandex-disk/upload
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

```
[2024-08-04 10:30:15] üöÄ –ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ –±–æ–ª—å—à–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫
[2024-08-04 10:30:16] üì§ –ü–æ–ø—ã—Ç–∫–∞ 1 –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ document.pdf —Ä–∞–∑–º–µ—Ä–æ–º 500 MB
[2024-08-04 10:32:45] ‚úÖ –§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫
```

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```javascript
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞–≥—Ä—É–∑–æ–∫
const stats = window.yandexDiskUploaderV3.getUploadStats();
console.log('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:', stats);
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- CSRF –∑–∞—â–∏—Ç–∞ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ñ–∞–π–ª–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–¥–µ–ª–∫–∞–º
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Ç–æ–∫–µ–Ω—ã –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ API

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö
- HTTP Keep-Alive —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- Chunked transfer encoding
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞

**Nginx:**
```nginx
client_max_body_size 2G;
client_body_timeout 300;
proxy_read_timeout 300;
```

**PHP:**
```ini
upload_max_filesize = 2G
post_max_size = 2G
memory_limit = 1G
max_execution_time = 0
max_input_time = 0
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ä–æ–π —Å–∏—Å—Ç–µ–º—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
2. –°—Ç–∞—Ä—ã–µ –ø–æ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥—É—Ç –æ–±–Ω–æ–≤–ª–µ–Ω—ã
3. –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è

### –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```blade
{{-- –ù–∞–π–¥–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –ø–æ–ª—è --}}
<input type="file" name="final_project_file" class="form-control">

{{-- –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω–æ–≤—ã–µ --}}
@include('deals.partials.components.field_types.file_v3', [
    'field' => ['name' => 'final_project_file']
])
```

## üìù Changelog

### v3.0 (–ê–≤–≥—É—Å—Ç 2024)
- ‚úÖ –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ —Å –Ω—É–ª—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∞–π–ª–æ–≤ –¥–æ 2GB
- ‚úÖ –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `storage/logs/laravel.log`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è JavaScript –æ—à–∏–±–æ–∫
3. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ —á–µ—Ä–µ–∑ `/api/yandex-disk/health`

---

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

–ó–∞–≥—Ä—É–∂–∞–π—Ç–µ —Ñ–∞–π–ª—ã –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫ –±—ã—Å—Ç—Ä–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ!
